name: 'Conftest OPA test runner'
description: 'Run OPA (rego) tests'
author: 'ibiqlik'

inputs:
  path:
    description: "Path to resources that will be tested"
    required: true
  policy:
    description: "Path to policy folder. Defaults to policy"
    default: "policy"
  namespace:
    description: "Rego namespace used for testing"
    default: "main"
  output:
    description: "Output format"
    default: "stdout"
  helm:
    description: 'Bool: true|false, if testing helm charts'
    default: "true"

runs:
  using: 'docker'
  image: 'Dockerfile'
